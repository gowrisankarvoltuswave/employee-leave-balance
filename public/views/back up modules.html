<!--Menu bar start-->
<ul class="nav navbar-nav">
    <li class="nav-item"> <a class="nav-link active" href="index.html">Home <span class="sr-only">(current)</span></a> </li>
    <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Food</a>
        <div class="dropdown-menu"> <a class="dropdown-item" href="views/food_results.html">Food results</a> <a class="dropdown-item" href="views/map_results.html">Map results</a></div>
    </li>
    <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Restaurants</a>
        <div class="dropdown-menu"> <a class="dropdown-item" href="views/restaurants.html">Search results</a> <a class="dropdown-item" href="views/profile.html">Profile page</a></div>
    </li>
    <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Pages</a>
        <div class="dropdown-menu"> <a class="dropdown-item" href="views/pricing.html">Pricing</a> <a class="dropdown-item" href="views/contact.html">Contact</a> <a class="dropdown-item" href="views/submition.html">Submit restaurant</a> <a class="dropdown-item" href="views/registration.html">Registration</a>
            <div class="dropdown-divider"></div> <a class="dropdown-item" href="views/checkout.html">Checkout</a> </div>
    </li>
</ul>
<!--Menu bar end-->

<!--<div id="signin" class="modal fade popup" tabindex="-1" role="dialog" ng-controller="loginCtrl"
     aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" style="z-index:9999; width:360px;">
        <div class="modal-content">
            <div class="modal-header" style="border:none; padding:0;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">X</button>
            </div>
            <div class="modal-body" style="overflow:hidden; padding:0;">
                &lt;!&ndash;<div class="logindetails" ng-show="(!signin && !guestcheck) || (signin && guestcheck)">                                 &lt;!&ndash;Login&ndash;&gt;&ndash;&gt;
                <div class="logindetails" ng-show="!signin && !guestcheck">                                 &lt;!&ndash;Login&ndash;&gt;
                    <h3>{{'logintoyouraccount'|translate:this}}</h3>
                    <ul>
                        <li><input type="text" class="form-control" ng-model="obj.username"
                                   placeholder="{{'placephonenumber'|translate:this}} *">
                        </li>
                        <li><input type="password" class="form-control" ng-model="obj.password"
                                   placeholder="{{'placepassword'|translate:this}}" >
                        </li>
                        <li><a class="btn" ng-click="fromhomelogin(obj)">{{'login'|translate:this}}</a></li>
                        <p><a href="">{{'forgotpassword'|translate:this}}</a></p>
                    </ul>
                </div>

                &lt;!&ndash;<div class="logindetails" ng-show="(signin && !guestcheck) || (!signin && guestcheck)">                                 &lt;!&ndash;Sign up&ndash;&gt;&ndash;&gt;
                <div class="logindetails" ng-show="signin">                                 &lt;!&ndash;Sign up&ndash;&gt;
                    <h3>{{'signupnowtitle'|translate:this}}</h3>
                    <ul>
                        <li><input type="text" class="form-control" ng-model="usersign.name"
                                   placeholder="{{'placefullname'|translate:this}}"></li>
                        <li><input type="text" class="form-control" ng-model="usersign.username"
                                   placeholder="{{'placeemail'|translate:this}}" ></li>
                        <li><input type="text" class="form-control" ng-model="usersign.mobile"
                                   placeholder="{{'placephonenumber'|translate:this}} *" ng-blur="isExist(usersign.mobile)"></li>
                        <li><input type="text" class="form-control" ng-model="usersign.password"
                                   placeholder="{{'placepassword'|translate:this}}"></li>
                        <li><a class="btn" ng-disabled="restrictsubmit" ng-click="register(usersign)">{{'signup'|translate:this}}</a></li>
                    </ul>
                </div>

                <div class="logindetails" ng-show="guestcheck && !signin">                                 &lt;!&ndash;Guest checkout&ndash;&gt;
                    <h3>Guest</h3>
                    <ul>
                        <li><input type="text" class="form-control" ng-model="usersign.name"
                                   placeholder="{{'placefullname'|translate:this}}"></li>
                        <li><input type="text" class="form-control" ng-model="usersign.username"
                                   placeholder="{{'placeemail'|translate:this}}" ></li>
                        <li><input type="text" class="form-control" ng-model="usersign.mobile"
                                   placeholder="{{'placephonenumber'|translate:this}} *" ng-blur="isExist(usersign.mobile)"></li>
                        <li><input type="text" class="form-control" ng-model="usersign.password"
                                   placeholder="{{'placepassword'|translate:this}}"></li>
                        <li><a class="btn" ng-disabled="restrictsubmit" ng-click="register(usersign)">{{'signup'|translate:this}}</a></li>
                    </ul>
                </div>


                <div class="ntremb">
                    <h4>{{'ntamem'|translate:this}}</h4>
                    <p>{{'loginpara'|translate:this}}</p>
                    <p ng-show="!signin && !guestcheck"><a ng-click="signin=!signin">{{'signupnow'|translate:this}}</a> &nbsp; <a href="" fb-login><i class="fa fa-facebook fa-1x" aria-hidden="true"></i></a></p>
                    <p ng-show="signin && !guestcheck"><a ng-click="signin=!signin">{{'alreadyhvmem'|translate:this}}</a> &nbsp; <a href="" fb-login><i class="fa fa-facebook" aria-hidden="true"></i></a></p>
                    <p ng-show="!signin && guestcheck"><a ng-click="guestcheck=!guestcheck">{{'alreadyhvmem'|translate:this}}</a> &nbsp; <a href="" fb-login><i class="fa fa-facebook" aria-hidden="true"></i></a></p>
                    <h4 ng-show="!guestcheck && !signin" >Or</h4>
                    <p ng-show="!guestcheck && !signin" class="guest"><a href="" ng-click="guestcheck=!guestcheck">Guest Checkout</a></p>
                </div>
            </div>
        </div>
    </div>
</div>-->

<!--Old login strat-->
<!--<div id="signin" class="modal fade popup" tabindex="-1" role="dialog" ng-controller="loginCtrl"
     aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" style="z-index:9999; width:360px;">
        <div class="modal-content">
            <div class="modal-header" style="border:none; padding:0;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">X</button>
            </div>
            <div class="modal-body" style="overflow:hidden; padding:0;">
                &lt;!&ndash;<button fb-login type="button">facebook Login</button>&ndash;&gt;
                <div class="logindetails" ng-show="!signin">
                    <h3>{{'logintoyouraccount'|translate:this}}</h3>
                    <ul>
                        <li><input type="text" class="form-control" ng-model="obj.username" placeholder="{{'placephonenumber'|translate:this}}">
                        </li>
                        <li><input type="password" class="form-control" ng-model="obj.password" placeholder="{{'placepassword'|translate:this}}">
                        </li>
                        <li><a class="btn" ng-click="login(obj)">{{'login'|translate:this}}</a></li>
                        <p><a href="">{{'forgotpassword'|translate:this}}</a></p>
                    </ul>
                </div>

                <div class="logindetails" ng-show="signin">
                    <h3>{{'logintoyouraccount'|translate:this}}</h3>
                    <ul>
                        <li><input type="text" class="form-control" ng-model="usersign.name" placeholder="{{'placefullname'|translate:this}}"></li>
                        <li><input type="text" class="form-control" ng-model="usersign.username" placeholder="{{'placeemail'|translate:this}}"></li>
                        <li><input type="text" class="form-control" ng-model="usersign.mobile" placeholder="{{'placephonenumber'|translate:this}}" ng-blur="isExist(usersign.mobile)"></li>
                        <li><input type="text" class="form-control" ng-model="usersign.password" placeholder="{{'placepassword'|translate:this}}"></li>
                        <li><a class="btn" ng-click="register(usersign)">{{'signup'|translate:this}}</a></li>
                    </ul>
                </div>


                <div class="ntremb">
                    <h4>{{'ntamem'|translate:this}}</h4>
                    <p>{{'loginpara'|translate:this}}</p>
                    <p ng-show="!signin"><a ng-click="signin=!signin">{{'signupnow'|translate:this}}</a> &nbsp; <a href="" fb-login><i class="fa fa-facebook fa-1x" aria-hidden="true"></i></a></p>
                    <p ng-show="signin"><a ng-click="signin=!signin">{{'alreadyhvmem'|translate:this}}</a> &nbsp; <a href="" fb-login><i class="fa fa-facebook fa-1x" aria-hidden="true"></i></a></p>
                </div>
            </div>
        </div>
    </div>
</div>-->

<!--<div class="col-sm-3 col-md-3" ng-hide="true">
    <ul class="panel-header" role="menu" ng-repeat="category in categoriesList">
        &lt;!&ndash;<li role="presentation" class="have-child"> <a role="menuitem" tabindex="-1" data-toggle="collapse" data-parent="#accordion" href="#{{category.id}}" ng-click="getmobviewproducts(category.id)">&ndash;&gt;
        <li role="presentation" class="have-child cursorStyle">
            <a role="menuitem" tabindex="-1" id="{{category.id}}">
                <span ng-if="containerClass=='en'">{{category.categoryEn}}</span>
                <span ng-if="containerClass=='rtl'">{{category.categoryAr}}</span>
                <i class="fa fa-chevron-down" ng-class="{'pull-right':containerClass=='en','pull-left':containerClass=='rtl'}"></i>
            </a>

            <ul id="categoryId{{$index+1}}" ng-repeat="product in mobproductsList" ng-class="{noList:category.id!=catId}" style="margin-top: 24px">
                <li class="mobproductlist"><a href="">
                    <div class="row">
                        <div class="col-xs-3">
                            <a class="popup" href=""
                               ng-click="showimage(product.imagePath)"><img
                                    class="img-responsive food_pic"
                                    src="{{product.imagePath}}" alt="" style="max-width: 153%"></a>
                        </div>
                        <div class="col-xs-9">
                            <div class="col-xs-12">
                                <p><span ng-if="containerClass=='en'">{{product.productEn}}</span>
                                    <span ng-if="containerClass=='rtl'">{{product.productAr}}</span>
                                <p class="mobcartbtn">
                                    <ngcart-addtocart id="{{product.id}}"
                                                      name="{{product.productEn}}"
                                                      price="{{productSize.price}}"
                                                      size="{{productSize.sizeEn}}"
                                                      sizehid="{{productSize.hid}}"
                                                      data="product" quantity="1"
                                                      quantity-max="10"
                                                      cartId="userId"
                                                      image="{{product.imagePath}}"
                                                      class="cursorStyle">
                                        +
                                    </ngcart-addtocart>
                                </p>
                                </p>
                                <select class="" ng-model="productSize"
                                        ng-options="size.sizeEn for size in product.sizes"
                                        ng-init="productSize=product.sizes[0]">
                                    <option value="product.sizes[0]">
                                        {{product.sizes[0].sizeEn}}
                                    </option>
                                </select>
                                <br/>
                                <p class="mobproductprice">SR {{productSize.price}}</p>
                            </div>
                        </div>
                    </div>
                </a>

                </li>
            </ul>
        </li>
    </ul>
</div>-->
<!--Old login end-->
<script>
    var cartItems=JSON.parse(localStorage.getItem('cart'));
    var cartItem=JSON.parse(cartItems)
    var cartItemsArray=JSON.parse(cartItems).items;
    for(var i=0;i<cartItemsArray.length;i++){
        if(cartItemsArray[i]._id==id && cartItemsArray[i]._size==size){
            cartItemsArray[i]['_quantity']  =this._quantity;
        }
    }
    cartItem['items']=cartItemsArray;
    var updateCart=JSON.stringify(cartItem)
    var value=JSON.stringify(updateCart)
    // $window.localStorage.setItem( 'cart', angular.toJson(updateCart) );
    this.$save = function () {
        return store.set('cart', JSON.stringify(updateCart));
    }
</script>